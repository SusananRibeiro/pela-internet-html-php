<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="src/assest/images/cliente.ico">
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="src/styles/config.css">
    <title>Lista de Clientes</title>
</head>
<body>

    <main class="container">
        <h1>Lista de Clientes</h1>
        <div class="container-table">
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nome</th>
                        <th>Telefone</th>
                        <th>CEP</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="cor-diferente">
                        <td>1</td>
                        <td>Jos√© Nunes</td>
                        <td>(48) 99999-9999</td>
                        <td class="linha-cep"><div class="ocultar-cep"></div>88810000</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>Maria Lopes</td>
                        <td>(48) 98888-8888</td>
                        <td class="linha-cep"><div class="ocultar-cep"></div>88811-111</td>
                    </tr>
                    <tr class="cor-diferente">
                        <td>4</td>
                        <td>Jarbas da Silva</td>
                        <td>(48) 97777-7777</td>
                        <td class="linha-cep"><div class="ocultar-cep"></div>88855-555</td>
                    </tr>
                </tbody>
            </table>
        </div>    
    </main>
    <script>
        // Se usar o FormData
        let dados = new FormData();

        dados.append('cidade', 'CRICIUMA');
        dados.append('uf', 'SC');
        dados.append('bairro', 'SAO SEBASTIAO');
        dados.append('logradouro', 'RUA BENTO ANTONIO NETO');

        $.ajax({
            url: "https://ws.assinepelainternet.com.br/rest.php?class=WSCep&method=buscarEndereco&cep=88815318",
            method: "post",
            data: dados,
            processData: false,
            contentType: false,
        }).done(function(resposta) {

            let respostaObjeto = JSON.parse(resposta);

            let cidade = respostaObjeto.cidade;
            let uf = respostaObjeto.uf;
            let bairro = respostaObjeto.bairro;
            let logradouro = respostaObjeto.logradouro;


            $('.ocultar-cep').text(logradouro + " " + bairro + " " + cidade +  ", " + uf);
        });

        $('.linha-cep').mouseover(function(){
            const divCep =  $(this);
            divCep.children().addClass("mostrar-cep");
        });

        $('.linha-cep').mouseout(function(){
            const divCep =  $(this);
            divCep.children().removeClass("mostrar-cep");
        });
    </script>
</body>
</html>